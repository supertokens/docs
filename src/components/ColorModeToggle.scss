.color-mode-toggle {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: var(--radius-3);
  background-color: transparent;
  color: var(--gray-11);
  transition: all 0.2s ease;

  &[data-state="on"] {
    .color-mode-toggle__light-icon {
      opacity: 0;
      transform: scale(0) rotate(90deg);
    }

    .color-mode-toggle__dark-icon {
      opacity: 1;
      transform: scale(1) rotate(0);
    }
  }

  &[data-state="off"] {
    .color-mode-toggle__light-icon {
      opacity: 1;
      transform: scale(1) rotate(0);
    }

    .color-mode-toggle__dark-icon {
      opacity: 0;
      transform: scale(0) rotate(90deg);
    }
  }

  &:hover {
    background-color: var(--gray-a4);
    color: var(--gray-12);
  }

  &:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px var(--color-mode-toggle-focus-ring);
  }

  &:disabled {
    pointer-events: none;
    opacity: 0.5;
    cursor: not-allowed;
  }

  &__icon {
    position: absolute;
    width: 1.2rem;
    height: 1.2rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
}

@media (max-width: 768px) {
  .color-mode-toggle {
    width: 2.25rem;
    height: 2.25rem;

    &__icon {
      width: 1.1rem;
      height: 1.1rem;
    }
  }
}

// High contrast mode support
// @media (prefers-contrast: high) {
//   .color-mode-toggle {
//     border-width: 2px;
//
//     &:focus-visible {
//       box-shadow: 0 0 0 3px var(--color-mode-toggle-focus-ring);
//     }
//   }
// }

// @media (prefers-reduced-motion: reduce) {
//   .color-mode-toggle__icon {
//     transition-duration: 0.1s;
//     transition-timing-function: ease;
//   }
// }

