---
page_type: plugin-reference
---

# `@supertokens-plugins/captcha-nodejs`

## Classes

### CaptchaPluginError

Defined in: [supertokens-plugins/packages/captcha-nodejs/src/errors.ts:3](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/errors.ts#L3)

#### Extends

- [`Error`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Error)

#### Constructors

##### Constructor

```ts
new CaptchaPluginError(type: CaptchaPluginErrorType, message: string): CaptchaPluginError;
```

Defined in: [supertokens-plugins/packages/captcha-nodejs/src/errors.ts:4](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/errors.ts#L4)

###### Parameters

| Parameter | Type |
| ------ | ------ |
| `type` | `CaptchaPluginErrorType` |
| `message` | `string` |

###### Returns

[`CaptchaPluginError`](#captchapluginerror)

###### Overrides

```ts
Error.constructor
```

#### Properties

| Property | Modifier | Type | Defined in |
| ------ | ------ | ------ | ------ |
| <a id="type"></a> `type` | `public` | `CaptchaPluginErrorType` | [supertokens-plugins/packages/captcha-nodejs/src/errors.ts:4](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/errors.ts#L4) |

## Interfaces

### ShouldValidate()

Defined in: [supertokens-plugins/packages/captcha-nodejs/src/types.ts:4](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L4)

#### Call Signature

```ts
ShouldValidate(api: "signInPOST", input: {
}): 
  | boolean
| Promise<boolean>;
```

Defined in: [supertokens-plugins/packages/captcha-nodejs/src/types.ts:5](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L5)

##### Parameters

| Parameter | Type |
| ------ | ------ |
| `api` | `"signInPOST"` |
| `input` | \{ \} |

##### Returns

  \| `boolean`
  \| [`Promise`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<`boolean`\>

#### Call Signature

```ts
ShouldValidate(api: "signUpPOST", input: {
}): 
  | boolean
| Promise<boolean>;
```

Defined in: [supertokens-plugins/packages/captcha-nodejs/src/types.ts:9](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L9)

##### Parameters

| Parameter | Type |
| ------ | ------ |
| `api` | `"signUpPOST"` |
| `input` | \{ \} |

##### Returns

  \| `boolean`
  \| [`Promise`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<`boolean`\>

#### Call Signature

```ts
ShouldValidate(api: "passwordResetPOST", input: {
}): 
  | boolean
| Promise<boolean>;
```

Defined in: [supertokens-plugins/packages/captcha-nodejs/src/types.ts:13](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L13)

##### Parameters

| Parameter | Type |
| ------ | ------ |
| `api` | `"passwordResetPOST"` |
| `input` | \{ \} |

##### Returns

  \| `boolean`
  \| [`Promise`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<`boolean`\>

#### Call Signature

```ts
ShouldValidate(api: "generatePasswordResetTokenPOST", input: {
}): 
  | boolean
| Promise<boolean>;
```

Defined in: [supertokens-plugins/packages/captcha-nodejs/src/types.ts:17](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L17)

##### Parameters

| Parameter | Type |
| ------ | ------ |
| `api` | `"generatePasswordResetTokenPOST"` |
| `input` | \{ \} |

##### Returns

  \| `boolean`
  \| [`Promise`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<`boolean`\>

#### Call Signature

```ts
ShouldValidate(api: "consumeCodePOST", input: 
  | {
}
  | {
} & {
}): 
  | boolean
| Promise<boolean>;
```

Defined in: [supertokens-plugins/packages/captcha-nodejs/src/types.ts:21](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L21)

##### Parameters

| Parameter | Type |
| ------ | ------ |
| `api` | `"consumeCodePOST"` |
| `input` | \| \{ \} \| \{ \} & \{ \} |

##### Returns

  \| `boolean`
  \| [`Promise`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<`boolean`\>

#### Call Signature

```ts
ShouldValidate(api: "createCodePOST", input: 
  | {
}
  | {
} & {
}): 
  | boolean
| Promise<boolean>;
```

Defined in: [supertokens-plugins/packages/captcha-nodejs/src/types.ts:25](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L25)

##### Parameters

| Parameter | Type |
| ------ | ------ |
| `api` | `"createCodePOST"` |
| `input` | \| \{ \} \| \{ \} & \{ \} |

##### Returns

  \| `boolean`
  \| [`Promise`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<`boolean`\>

#### Call Signature

```ts
ShouldValidate(api: "consumeCodePOST", input: 
  | {
}
  | {
} & {
}): 
  | boolean
| Promise<boolean>;
```

Defined in: [supertokens-plugins/packages/captcha-nodejs/src/types.ts:29](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L29)

##### Parameters

| Parameter | Type |
| ------ | ------ |
| `api` | `"consumeCodePOST"` |
| `input` | \| \{ \} \| \{ \} & \{ \} |

##### Returns

  \| `boolean`
  \| [`Promise`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<`boolean`\>

## Type Aliases

### ReCaptchaV2Response

```ts
type ReCaptchaV2Response = {
  action: string;
  challenge_ts: string;
  error-codes: string[];
  success: boolean;
};
```

Defined in: [supertokens-plugins/packages/captcha-nodejs/src/types.ts:54](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L54)

#### Properties

| Property | Type | Defined in |
| ------ | ------ | ------ |
| <a id="action"></a> `action` | `string` | [supertokens-plugins/packages/captcha-nodejs/src/types.ts:56](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L56) |
| <a id="challenge_ts"></a> `challenge_ts` | `string` | [supertokens-plugins/packages/captcha-nodejs/src/types.ts:58](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L58) |
| <a id="error-codes"></a> `error-codes` | `string`[] | [supertokens-plugins/packages/captcha-nodejs/src/types.ts:57](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L57) |
| <a id="success"></a> `success` | `boolean` | [supertokens-plugins/packages/captcha-nodejs/src/types.ts:55](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L55) |

***

### ReCaptchaV3Response

```ts
type ReCaptchaV3Response = {
  action: string;
  challenge_ts: string;
  error-codes: string[];
  hostname: string;
  score: number;
  success: boolean;
};
```

Defined in: [supertokens-plugins/packages/captcha-nodejs/src/types.ts:45](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L45)

#### Properties

| Property | Type | Defined in |
| ------ | ------ | ------ |
| <a id="action-1"></a> `action` | `string` | [supertokens-plugins/packages/captcha-nodejs/src/types.ts:49](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L49) |
| <a id="challenge_ts-1"></a> `challenge_ts` | `string` | [supertokens-plugins/packages/captcha-nodejs/src/types.ts:51](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L51) |
| <a id="error-codes-1"></a> `error-codes` | `string`[] | [supertokens-plugins/packages/captcha-nodejs/src/types.ts:47](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L47) |
| <a id="hostname"></a> `hostname` | `string` | [supertokens-plugins/packages/captcha-nodejs/src/types.ts:48](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L48) |
| <a id="score"></a> `score` | `number` | [supertokens-plugins/packages/captcha-nodejs/src/types.ts:50](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L50) |
| <a id="success-1"></a> `success` | `boolean` | [supertokens-plugins/packages/captcha-nodejs/src/types.ts:46](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L46) |

***

### SuperTokensPluginCaptchaConfig

```ts
type SuperTokensPluginCaptchaConfig = {
  captcha: {
     secretKey: string;
  };
  shouldValidate?: ShouldValidate;
  type: "reCAPTCHAv3" | "reCAPTCHAv2" | "turnstile";
};
```

Defined in: [supertokens-plugins/packages/captcha-nodejs/src/types.ts:35](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L35)

#### Properties

| Property | Type | Description | Defined in |
| ------ | ------ | ------ | ------ |
| <a id="captcha"></a> `captcha` | \{ `secretKey`: `string`; \} | - | [supertokens-plugins/packages/captcha-nodejs/src/types.ts:37](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L37) |
| `captcha.secretKey` | `string` | - | [supertokens-plugins/packages/captcha-nodejs/src/types.ts:38](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L38) |
| <a id="shouldvalidate-8"></a> `shouldValidate?` | [`ShouldValidate`](#shouldvalidate) | By default the captcha validation is performed on all the form submit actions Use this property to specify when to perform the validation | [supertokens-plugins/packages/captcha-nodejs/src/types.ts:42](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L42) |
| <a id="type-1"></a> `type` | `"reCAPTCHAv3"` \| `"reCAPTCHAv2"` \| `"turnstile"` | - | [supertokens-plugins/packages/captcha-nodejs/src/types.ts:36](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L36) |

***

### TurnstileResponse

```ts
type TurnstileResponse = {
  challenge_ts: string;
  error-codes: string[];
  hostname: string;
  success: boolean;
};
```

Defined in: [supertokens-plugins/packages/captcha-nodejs/src/types.ts:61](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L61)

#### Properties

| Property | Type | Defined in |
| ------ | ------ | ------ |
| <a id="challenge_ts-2"></a> `challenge_ts` | `string` | [supertokens-plugins/packages/captcha-nodejs/src/types.ts:65](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L65) |
| <a id="error-codes-2"></a> `error-codes` | `string`[] | [supertokens-plugins/packages/captcha-nodejs/src/types.ts:63](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L63) |
| <a id="hostname-1"></a> `hostname` | `string` | [supertokens-plugins/packages/captcha-nodejs/src/types.ts:64](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L64) |
| <a id="success-2"></a> `success` | `boolean` | [supertokens-plugins/packages/captcha-nodejs/src/types.ts:62](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/types.ts#L62) |

## Variables

### default

```ts
default: {
  init: (config: SuperTokensPluginCaptchaConfig) => SuperTokensPlugin;
};
```

Defined in: [supertokens-plugins/packages/captcha-nodejs/src/index.ts:5](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/index.ts#L5)

#### Type Declaration

| Name | Type | Defined in |
| ------ | ------ | ------ |
| <a id="init"></a> `init()` | (`config`: [`SuperTokensPluginCaptchaConfig`](#supertokensplugincaptchaconfig)) => `SuperTokensPlugin` | [supertokens-plugins/packages/captcha-nodejs/src/index.ts:5](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/index.ts#L5) |

***

### PLUGIN\_ID

```ts
const PLUGIN_ID: "supertokens-plugin-captcha" = "supertokens-plugin-captcha";
```

Defined in: [supertokens-plugins/packages/captcha-nodejs/src/config.ts:3](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/config.ts#L3)

***

### PLUGIN\_SDK\_VERSION

```ts
const PLUGIN_SDK_VERSION: ">=23.0.0" = ">=23.0.0";
```

Defined in: [supertokens-plugins/packages/captcha-nodejs/src/config.ts:4](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/config.ts#L4)

***

### SupportedCaptchaTypes

```ts
const SupportedCaptchaTypes: string[];
```

Defined in: [supertokens-plugins/packages/captcha-nodejs/src/captcha.ts:4](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/captcha.ts#L4)

## Functions

### init()

```ts
function init(config: SuperTokensPluginCaptchaConfig): SuperTokensPlugin;
```

Defined in: [supertokens-plugins/packages/captcha-nodejs/src/plugin.ts:6](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/plugin.ts#L6)

#### Parameters

| Parameter | Type |
| ------ | ------ |
| `config` | [`SuperTokensPluginCaptchaConfig`](#supertokensplugincaptchaconfig) |

#### Returns

`SuperTokensPlugin`

***

### validateCaptcha()

```ts
function validateCaptcha(body: Record<string, unknown>, config: SuperTokensPluginCaptchaConfig): Promise<void>;
```

Defined in: [supertokens-plugins/packages/captcha-nodejs/src/captcha.ts:15](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/captcha.ts#L15)

#### Parameters

| Parameter | Type |
| ------ | ------ |
| `body` | [`Record`](https://www.typescriptlang.org/docs/handbook/utility-types.html#recordkeys-type)\<`string`, `unknown`\> |
| `config` | [`SuperTokensPluginCaptchaConfig`](#supertokensplugincaptchaconfig) |

#### Returns

[`Promise`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<`void`\>

***

### validatePluginConfig()

```ts
function validatePluginConfig(config: SuperTokensPluginCaptchaConfig): void;
```

Defined in: [supertokens-plugins/packages/captcha-nodejs/src/config.ts:6](https://github.com/supertokens/supertokens-plugins/blob/main/packages/captcha-nodejs/src/config.ts#L6)

#### Parameters

| Parameter | Type |
| ------ | ------ |
| `config` | [`SuperTokensPluginCaptchaConfig`](#supertokensplugincaptchaconfig) |

#### Returns

`void`
