---
id: data-migration
title: Step 2. User Data Migration
hide_title: true
sidebar_position: 3
---

# User Data Migration

Once your user accounts have been migrated over to SuperTokens, additional information like metadata, roles and permissions can be associated with the user.

## User Metadata Migration

SuperTokens allows you to store arbitrary data that is JSON serializable against a userId.

In this example we want to store the following metadata against our user:

```json
{
    "someKey": "someValue" 
}
```

```bash
curl --location --request PUT '^{coreInfo.uri}/recipe/user/metadata' \
--header 'api-key: ^{coreInfo.key}' \
--header 'Content-Type: application/json; charset=utf-8' \
--data-raw '{
  "userId": "5acb2dbc-04f0-4c80-822a-7f06cd658f6f",
  "metadataUpdate": {
    "someKey": "someValue"
  }
}'
```

## User Roles Migration

SuperTokens allows you to assign roles and permissions to a userId.

In this example we will be assigning the `admin` role to a user:

```bash
curl --location --request PUT '^{coreInfo.uri}/recipe/user/role' \
--header 'api-key: ^{coreInfo.key}' \
--header 'Content-Type: application/json; charset=utf-8' \
--data-raw '{
  "role": "admin",
  "userId": "5acb2dbc-04f0-4c80-822a-7f06cd658f6f"

}'
```

:::info Important
Roles and permissions must be created before they can be assigned to a user. You can follow this [guide](/docs/additional-verification/user-roles/initial-setup) on creating roles and permissions in SuperTokens.
:::

---

## See also

<ReferenceCard.Grid>
  <ReferenceCard href="/docs/migration/legacy/account-creation/user-creation" label="Account Creation" />
  <ReferenceCard href="/docs/migration/legacy/session-migration" label="Session Migration" />
  <ReferenceCard href="/docs/migration/legacy/mfa-migration" label="MFA Migration" />
  <ReferenceCard href="/docs/migration/legacy/account-creation/email-verification" label="Email Verification" />
  <ReferenceCard href="/docs/post-authentication/user-management/user-metadata" label="User Metadata" />
</ReferenceCard.Grid>
