---
id: selection-tutorial
title: Guided Tutorial
hide_title: true
---

import Architecture from "/src/components/guides/Architecture"
import FolderStructureNoSeparateNodeServer from "/guides/folderStructure/noSeparateNodeServer.mdx"
import DisplaySelection from "/src/components/guides/DisplaySelection"
import RenderBackendConfigPath from "/src/components/guides/RenderBackendConfigPath"
import RenderAPIDomain from "/src/components/guides/RenderAPIDomain"
import RenderWebsiteDomain from "/src/components/guides/RenderWebsiteDomain"
import IsMobileFrontend from "/src/components/guides/IsMobileFrontend"
import IsWebFrontend from "/src/components/guides/IsWebFrontend"
import StackViewer from "/src/components/guides/StackViewer"
import IsRecipeInit from "/src/components/guides/IsRecipeInit"
import RenderDashboardRoute from "/src/components/guides/RenderDashboardRoute"

# Guided Tutorial

Disclaimer: This document includes ATM all the possible variations
Titles that are wrapped in curly brackets signal conditional steps. That text will not be visible in the final version. 


To Do: 
- [ ] Decide on the document structure
- [ ] Add an initial draft with just the text content
- [ ] Add code snippets
- [ ] Add the correct reference links to the docs
- [ ] Improve the text based on feedback
- [ ] Add the images
- [ ] Add a proper component that will show your selection   
- [ ] Improve the guide selection form

## Your Selection

<DisplaySelection />


## Architecture Overview

architecture image

### {Java/C#}

We do not have an SDK in the language that you have chosen. You will have to deploy
and expose a separate Node.js server from your infrastructure. 

### {Go/Python with MTA/MFA}

At the moment we do not support MFA, Multi-factor authentication, in the language SDK. You will have to deploy a separate Node.js server 
and expose the authentication routes.

Explain how everyting will work in this architecture

### {Anything Else}

You can directly integrate our SDK into your backend API. The authentication routes will be properly exposed based on your configuration.

Explain how everyting will work in this architecture 


## Project Structure

### {Has Starter Project}

Use our starter project to get up and running quickly. It comes with full config examples 
based on your selection. Just run the following command to install everything:

```bash
npx create-supertokens-app@latest some-arguments 
```

### {Default App Structure}

The project that you just downloaded is split into two parts:

### `/backend`

This folder includes a sample server that exposes the authentication routes.

#### {Node.js/Express}

There are two files included in this project. 

##### `config.ts`

As the name suggests, this file configures the SuperTokens SDK and the features that your instance will use.
In it, you will find examples for the following setup steps:

1. Connecting to the SuperTokens Core Service 
2. Specifying info about your application 
3. Selecting and initialising the authentication recipes that you need
4. Configuring additional functionality like session or user management

##### `index.ts`

This file initializes a simple Express server that makes use of two functions to expose the auth functionalities:
- `middleware`: This adds the authentication routes to the Express App 
- `errorHandler`: This manages the errors that can be thrown in the authentication flows and includes standardized responses

Besides that, you will also find examples on how to configure CORS, and how to setup two additional endpoints. One for managing session data and one for working with tenants. 

:::note
should we specify the tenant endpoint info only if it is set in the config?
:::


#### {Node.js/NestJS}
#### {Python}
#### {Go}

We will include references to these files throught the following sections. This way you fill find concrete instructions on how and what to change based on your selected recipes and setup. 

### `/frontend`

In here you will find prebuilt components that you can customize and use in your frontend app. 

#### {React}
#### {Angular}
#### {Vue}

General overview of the frontend folder structure based on the framework selection
How the prebuilt components are used and where they are included.


### {For Remix/Next.js/Astro/Capacitor}

Custom app configuration. Talk about how everything is configured.  

#### {Next.js}
#### {Remix}
#### {Astro}
#### {Capacitor}

### {Does not have a Starter Project}

Follow the steps described [here](/docs/community/other-frameworks) to get a better understanding on how you can spin up a separate authentication server and the integrate it in your existing backend infrastructure.

#### Backend Service Configuration

Explain how the express middlewares work and why use them.
Link a github example app/Dockerfile setup/where is the guide? Also provide docs link on how to deploy those things.

#### Frontend Configuration

##### {React/Angular/Vue}

Show examples from github. Where are those things?
Explain how to use the prebuilt components and where to place them.

##### {Custom UI with react/vue/angular}

Link to github examples.
Explain how to create different components and how to call  the authentication functions.

##### {Mobile App}

Links to relevant example apps

##### {Vanilla JS}

Link to web-js + vue example app

## Recipes

:::note
The recipes will be visible based on the selection states:
- multi-tenant - show everything (including mfa)
- mfa - show all the auth recipes
- otherwise - show only the selected auth recipes
:::

### Multi-tenant Authentication

#### {With example app}

- How tenants can be created
  - Api/SDK calls

- frontend  How getTenantId works 

#### {Has Dashboard}

- How you can confgure MTA from the dashboard

#### {Frontend - Mobile App}

- Explain how the tenantId neeeds to be part of the api calls

#### {Frontend - web-js}

- Explain that they need to provide the implementation for getTenantId

### Multi-factor Authentication

- How to configure MFA factors

#### {Frontend - React/Remix/Nextjs}

- Explain why the prebuilt UI is added in Auth component compared to adding it in the routes

#### {Frontend - Angular/Vue}

- Talk about their specific setup (with examples)

#### {Frontend - Mobile App}

- Claims setup and how to use API calls 

#### {Frontend - Web-js}

- Claims setup and how to use lib calls 

#### {Has Dashboard}

- How you can confgure MFA from the dashboard

### Email/Password Authentication

#### {Backend - Using SDK}
Point to the SDK config and the fields that need to be set

#### {Frontend - Prebuilt UI}
Point to the component that is used and how to integrate it

### Social Login 

#### {Backend - Using SDK}
Point to the SDK config and the fields that need to be set

#### {Frontend - Prebuilt UI}
Point to the component that is used and how to integrate it

#### {Backend - Using SDK}
Point to the SDK config and the fields that need to be set

#### {Frontend - Prebuilt UI}
Point to the component that is used and how to integrate it

### Passwordless Login

#### {Backend - Using SDK}
Point to the SDK config and the fields that need to be set

#### {Frontend - Prebuilt UI}
Point to the component that is used and how to integrate it

## Session Verification

How sessions can be verified in your application server and how the MFA claim can be verified

## SuperTokens Core Setup

### {Has Example App}

In our example app we used [try.supertokens.com](https://try.supertokens.com) to host the example app. You can replace the enpoint with your the correct one based on your configuration.

### Managed service

Info and links to relevant doc pages

### Self Hosted

Info and links to relevant doc pages

## Next Steps

- [Learn how to protect your frontend routes](/docs/random)
- [Learn how to protect your backend routes](/docs/random)
- [Customize the look and feel of the pre-built UI](/docs/random)
- [See how you can manage your users and their metadata](/docs/random)
 
## Followup Questions

- What's the photo for the baseline architecture? (the one where you use the SDK)
- How do I access the chat of a previous huddle? :)
- Do we have a way of referencing the SDK version in the docs?
- How do I access the example gists
- Should we generate all the possible pages during build time? SEO concerns.
- Not sure on what would work best for abstracting/modularising this.

## SuperTokens backend configuration

Open up the file <RenderBackendConfigPath /> from the downloaded folder. This is where SuperTokens's backend SDK is configured. There are different parts to the configuration:

- Connection to the core..
- `appInfo`:
    - The value of `apiDomain` is: <RenderAPIDomain />. This is where the auth APIs will be exposed to to the frontend.
    - The value of `websiteDomain` is: <RenderWebsiteDomain />. <IsMobileFrontend>Since your frontend is a mobile app, this value does not matter much. It's used when generating links like email verification or password reset (if you have chosen email password), however, we override these links in the backend config to be deep links to the mobile app before sending them to the user's email.</IsMobileFrontend><IsWebFrontend>This link is where your frontend UI will show.</IsWebFrontend>


sadasds

<ul>
<li><code>recipeList</code>: We initialise all the necessary recipes based on your selection of login methods:</li>
<ul>
<li>Session recipe: Responsible for issuing and verifying session tokens</li>
<li>Dashboard recipe: Enables the dashboard, accessible on the <RenderDashboardRoute /> route </li>
<li>User roles: Enables setting roles and permissions for users</li>
<li>User metadata: Enables setting JSON metadata for users</li>
<li>Multi tenancy recipe: This will enable multi tenancy in supertokens, and expose APIs to the frontend which can be used to get information about which login method is configured for a tenant.</li>
<IsRecipeInit recipe="emailpassword"><li> Email password recipe: This recipe exposes the email password related APIs like email password sign up or sign in, along with the reset password APIs.</li></IsRecipeInit>
<IsRecipeInit recipe="passwordless"><li> Passwordless recipe: This recipe exposes the passwordless login based APIs (for magic link or otp based login).</li></IsRecipeInit>
<IsRecipeInit recipe="thirdparty"><li> Third Party recipe: Exposes APIs for social or enterprise SSO login. This list of third party providers will be configured via API calls for each tenant in your application.</li></IsRecipeInit>
<IsRecipeInit recipe="mfa"><li> Multi factor recipe: Allows you to configure secondary factors required for each tenant. We will provide a list of first and second factors for each tenant during the tenant configuration step.</li></IsRecipeInit>
</ul>
</ul>

### Configuring tenants

There are two steps in configuring tenants:
- Creating tenants and setting login methods for them.
- If third party is enabled for the tenant, then we want to configure the third party providers for the tenant.

TODO...


<ul>
<li><code>recipeList</code>: We initialise all the necessary recipes based on your selection of login methods:</li>
<ul>
<li>Session recipe: Responsible for issuing and verifying session tokens</li>
<li>Dashboard recipe: Enables the dashboard, accessible on the <RenderDashboardRoute /> route </li>
<li>User roles: Enables setting roles and permissions for users</li>
<li>User metadata: Enables setting JSON metadata for users</li>
<IsRecipeInit recipe="emailpassword"><li> Email password recipe: This recipe exposes the email password related APIs like email password sign up or sign in, along with the reset password APIs.</li></IsRecipeInit>
<IsRecipeInit recipe="passwordless"><li> Passwordless recipe: This recipe exposes the passwordless login based APIs (for magic link or otp based login). In the geenrated app, we enable OTP and magic link based login, with phone number or email. You can restrict this choice by changing the supplied configuration.</li></IsRecipeInit>
<IsRecipeInit recipe="thirdparty"><li> Third Party recipe: Exposes APIs for social or enterprise SSO login. We also configure a list of third party providers in the app, which you can change based on your needs.</li></IsRecipeInit>
<IsRecipeInit recipe="mfa"><li> Multi factor recipe: Allows you to configure secondary factors required for logging in. The factors configured in this is based on your selection, and by default, it requires all users to setup MFA during sign up. This behaviour can of course be changed.</li></IsRecipeInit>
</ul>
</ul>




---------------------

<!-- 
# Selection view
    ... some UI

# Architecture overview
    if (applicationServer is undefined) {
        normal diagram
    } else {
        diagram with applicationServer + node backend

        if (applicationServer is python or goalng) {
            Note: we say that even though we have a python / golang sdk, becuase you have selected MFA (which is not yet supported in them),
            we recommend that you use a separated node server.
        }
    }

if (hasExample app) {
    # Download demo app
}

if (example app available) {
    # Folder Structure
        if (applicationServer is defined) {
            Note: even though you selected <applicationBackend>, the example app 
downloaded will have a node backend which wil be the authServer for your
            application server.
        }
        - /backend folder: ...
        - /frontend folder: ...

    # Recipes initialised:
    ## Backend:
        if (multitenancy or mfa) {
            - fixed set of recieps for each
        } else {
            - dynamic recipes for each
        }
    ## Frontend:
        if (multitenancy or mfa) {
            - fixed set of recieps for each + pre built UI list
        } else {
            - dynamic recipes + pre built UI list for each
        }

    if (mulitenancy) {
        # Creating and configuring tenants
            - Talk about how tenants are created, and the api calls to make them
            if (backend is node || nextjs || remix) {
                also specify that you can use the dashboard to configure tenants
            }
            - Talk about getTenantId on the frontend supertokens-auth-react
    }
    if (mfa) {
        # Configuring MFA
            talk about how we configure MFA factors
            if (backend is node || nextjs || remix) {
                also specify that the dashboard can be used to configure mfa
            }
    }

    # Adding the supertokens middleware to your backend / auth server 
# (pick the right one based on if the applicationServer is defined or not)
        - Point to where the supertokens middleware is added and what it does.
        - Point to where the supertokens error handler is added and what it does.

    # Adding the pre built UI to your frontend
        if (frontend is react or nextjs or remix) {
            - Post to how the pre built UI is added and what it does 
(in multi tenancy, the function is called in the Auth component cause 
we want to show the UI for the tenant selected,
whereas in others, its directly in the routes component)
        } else if (frontend is angular or vue) {
            - Talk about their setup
        }
} else {
    # Backend integration / auth server setup steps overview (pick the right one based on if applicationServer is defined or not)
        - point to right part of the docs based on the auth method selected
        
        if (multi tenancy) {
            # Creating and configuring tenants
            Talk about how tenants are created, and the api calls to make them
            if (backend is node || nextjs || remix) {
                also specify that you can use the dashboard to configure tenants
            }
        }

        if (mfa) {
            # Configuring MFA
                talk about how we configure MFA factors
                if (backend is node || nextjs || remix) {
                    also specify that the dashboard can be used to configure mfa
                }
        }
    # Frontend integration steps overview
        if (custom UI) {
            ## Example app
                if (mobile app) {
                    link to relevant example app 
                } else {
                    link to web-js + vue example app
                }
            if (mobile app) {
                - talk that API calls need to be made manually,
and our frontend sdk does only session verification
                - point to right part of the docs
            } else {
                - talk about supertokens-web-js and that it providers helper functions + session management.
                - point to right part of the docs
            }
            if (using multi tenancy) {
                if (mobile app) {
                    - say tenant Id needs to be a part of the request path to the backend
                } else {
                    - you need to provide the impl for getTenantId in web-js
                }
            }

            if (using MFA) {
                if (mobile app) {
                    - talk about claims post first factor, 
and checking the factor info API and next array (using manual API calls)
                } else {
                    - talk about claims post first factor, 
and checking the factor info API and next array (using the web-js function)
                }
            }
        } else {
            // can come here in case other node framework other than nest or express. 
// Or, FE=nextjs || remix, backend=something else
            - talk about supertokens-auth-react and that it providers 
helper functions + session management.
            - point to right part of the docs.

            if (using multi tenancy) {
                - you need to provide the impl for getTenantId in auth-react
            }
        }
}

if (applicationServer is defined) {
    # Session verification in your application server
        - talk about how to verify the session in your application server
        if (using mfa) {
            - need to verify the mfa claim in the backend
        }
}

# Core setup
    if (Example app available) {
        - in the example, we use try supertokens.
    }
    ## Managed service

    ## Self hosted

# Navigating the docs
    - Link to frontend route protection
    - Link to backend route protecion
    if (using pre built ui) {
        Talk about styling / customisation (in )
    }
-->
