---
id: sending-requests-with-fetch
title: Sending Requests With Fetch
hide_title: true
---

import NpmOrScriptTabs from "/src/components/tabs/NpmOrScriptTabs"
import TabItem from '@theme/TabItem';

# Sending Requests with Fetch

## Enable Fetch Interceptors
The `init` function call automatically adds interceptors to `fetch`. So there is nothing else that needs to be done.

<NpmOrScriptTabs>
<TabItem value="npm">

```tsx
import SuperTokens from 'supertokens-website';

// call this when your app starts
SuperTokens.init({
    apiDomain: "https://api.example.com"
});

async function doAPICalls() {
    try {
        // make API call as usual
        let fetchConfig = { ... };
        let response = await fetch("/someAPI", fetchConfig);

        // handle response
        if (response.status !== 200) {
            throw response;
        }
        let data = await response.json();
        let someField = data.someField;
        // ...
    } catch (err) {
        if (err.status === 401) {
            // redirect user to login
        } else {
            // handle error
        }
    }
}
```

</TabItem>
<TabItem value="script">

```jsx
supertokens.init({
    apiDomain: "https://api.example.com"
});

async function doAPICalls() {
    try {
        // make API call as usual
        let fetchConfig = { ... };
        let response = await fetch("/someAPI", fetchConfig);

        // handle response
        if (response.status !== 200) {
            throw response;
        }
        let data = await response.json();
        let someField = data.someField;
        // ...
    } catch (err) {
        if (err.status === 401) {
            // redirect user to login
        } else {
            // handle error
        }
    }
}
```

</TabItem>
</NpmOrScriptTabs>

## Disable Fetch Interceptors

You can disable the Fetch Interceptors added through the following method:

<NpmOrScriptTabs>
<TabItem value="npm">

```tsx
import SuperTokens from 'supertokens-website';

// call this when your app starts
SuperTokens.init({
    apiDomain: "https://api.example.com",
    override: {
        functions: (orignalImplementation) => {
            return {
                ...orignalImplementation,
                addFetchInterceptorsAndReturnModifiedFetch: (originalFetch, config) => {
                    return originalFetch;
                }
            }
        }
    },
});

```

</TabItem>
<TabItem value="script">

```jsx
supertokens.init({
    apiDomain: "https://api.example.com",
    override: {
        functions: (orignalImplementation) => {
            return {
                ...orignalImplementation,
                addFetchInterceptorsAndReturnModifiedFetch: (originalFetch, config) => {
                    return originalFetch;
                }
            }
        }
    },
});


```

</TabItem>
</NpmOrScriptTabs>