---
id: backend
title: "Backend Setup"
hide_title: true
---


import Card from "/src/components/card/Card"
import BackendSDKTabs from "/src/components/tabs/BackendSDKTabs";
import TabItem from '@theme/TabItem';
import NodeJSFrameworkSubTabsServerless from "/src/components/tabs/NodeJSFrameworkSubTabsServerless"
import PythonFrameworkSubTabs from "/src/components/tabs/PythonFrameworkSubTabs"
import GoFrameworkSubTabs from "/src/components/tabs/GoFrameworkSubTabs"
import AppInfoForm from "/src/components/appInfoForm"
import CoreInjector from "/src/components/coreInjector"
import {Question, Answer}from "/src/components/question"
import BackendSDKCasing from "/src/components/BackendSDKCasing"

import HoverCard from "/src/components/HoverCard/HoverCard"
import Form from "/src/components/Form/Form"
import { ContextCondition, ContextValue, ContextValueReplacer } from "/src/components/DocsItemContext/DocsItemContext"
import AuthenticationRecipesSection from "/src/components/Form/AuthenticationRecipesSection"
import AppInfoSection from "/src/components/Form/AppInfoSection"
import PasswordlessSettingsSection from "/src/components/Form/PasswordlessSection"
import ReactRouterSection from "/src/components/Form/ReactRouterSection"



# Backend Integration

## 1. Install the SuperTokens SDK

<BackendSDKTabs>
<TabItem value="nodejs">

```bash
npm i -s supertokens-node
```

</TabItem>
<TabItem value="go">

```bash
go get github.com/supertokens/supertokens-golang
```

</TabItem>
<TabItem value="python">

```bash
pip install supertokens-python
```

</TabItem>
</BackendSDKTabs>

## 2. Initialise SuperTokens

<Form>
  <AuthenticationRecipesSection />
  <Form.Separator />
  <AppInfoSection />
  <PasswordlessSettingsSection showFlowType={true} />
</Form>

<ContextValueReplacer>

<CoreInjector showTenantId={false}>

Add the code below to your server's init file.



<BackendSDKTabs>


<TabItem value="nodejs">
<NodeJSFrameworkSubTabsServerless>

<TabItem value="express">



Code Sample: 

```tsx
import supertokens from "supertokens-node";
import Session from "supertokens-node/recipe/session";
<!-- start-trim-block -->
<!-- start-condition authenticationRecipes.emailpassword.enabled -->
import EmailPassword from "supertokens-node/recipe/emailpassword/";
<!-- end-condition -->
<!-- start-condition authenticationRecipes.passwordless.enabled -->
import Passwordless from "supertokens-node/recipe/passwordless";
<!-- end-condition -->
<!-- start-condition authenticationRecipes.thirdparty.enabled -->
import ThirdParty from "supertokens-node/recipe/thirdparty";
<!-- end-condition -->
<!-- end-trim-block -->

supertokens.init({
    framework: "express",
    supertokens: {
        ^{coreInjector_connection_uri_comment}
        connectionURI: ^{coreInjector_uri}
        ^{coreInjector_api_key_commented}apiKey: ^{coreInjector_api_key},
    },
    appInfo: {
        // learn more about this on https://supertokens.com/docs/session/appinfo
		appName: "^{appInfo.appName}",
        apiDomain: "^{appInfo.apiDomain}",
        websiteDomain: "^{appInfo.websiteDomain}",
        apiBasePath: "^{appInfo.apiBasePath}",
        websiteBasePath: "^{appInfo.websiteBasePath}",
    },
    recipeList: [
        <!-- start-trim-block -->
        <!-- start-condition authenticationRecipes.emailpassword.enabled -->
        EmailPassword.init(), // initializes signin / sign up features
        <!-- end-condition -->
        <!-- start-condition authenticationRecipes.passwordless.enabled -->
        Passwordless.init({
            flowType: "^{authenticationRecipes.passwordless.settings.flowType}",
            contactMethod: "^{authenticationRecipes.passwordless.settings.contactMethod}"
        }),
        <!-- end-condition -->
        <!-- start-condition authenticationRecipes.thirdparty.enabled -->
        ThirdParty.init({
            // We have provided you with development keys which you can use for testing.
            // IMPORTANT: Please replace them with your own OAuth keys for production use.
            signInAndUpFeature: {
                providers: [{
                    config: {
                        thirdPartyId: "google",
                        clients: [{
                            clientId: "1060725074195-kmeum4crr01uirfl2op9kd5acmi9jutn.apps.googleusercontent.com",
                            clientSecret: "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"
                        }]
                    }
                }, {
                    config: {
                        thirdPartyId: "github",
                        clients: [{
                            clientId: "467101b197249757c71f",
                            clientSecret: "e97051221f4b6426e8fe8d51486396703012f5bd"
                        }]
                    }
                }, {
                    config: {
                        thirdPartyId: "apple",
                        clients: [{
                            clientId: "4398792-io.supertokens.example.service",
                            additionalConfig: {
                                keyId: "7M48Y4RYDL",
                                privateKey:
                                    "-----BEGIN PRIVATE KEY-----\nMIGTAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBHkwdwIBAQQgu8gXs+XYkqXD6Ala9Sf/iJXzhbwcoG5dMh1OonpdJUmgCgYIKoZIzj0DAQehRANCAASfrvlFbFCYqn3I2zeknYXLwtH30JuOKestDbSfZYxZNMqhF/OzdZFTV0zc5u5s3eN+oCWbnvl0hM+9IW0UlkdA\n-----END PRIVATE KEY-----",
                                teamId: "YWQCXGJRJL",
                            }
                        }]
                    }
                }],
            }
        }),
        <!-- end-condition -->
        <!-- end-trim-block -->
        Session.init() // initializes session features
    ]
});
```


</TabItem>


<TabItem value="hapi">

```tsx
import supertokens from "supertokens-node";
import Session from "supertokens-node/recipe/session";
import EmailPassword from "supertokens-node/recipe/emailpassword";

supertokens.init({
    framework: "hapi",
    supertokens: {
        ^{coreInjector_connection_uri_comment}
        connectionURI: ^{coreInjector_uri}
        ^{coreInjector_api_key_commented}apiKey: ^{coreInjector_api_key},
    },
    appInfo: {
        // learn more about this on https://supertokens.com/docs/session/appinfo
        appName: "^{appInfo.appName}",
        apiDomain: "^{appInfo.apiDomain}",
        websiteDomain: "^{appInfo.websiteDomain}",
        apiBasePath: "^{appInfo.apiBasePath}",
        websiteBasePath: "^{appInfo.websiteBasePath}",
    },
    recipeList: [
        EmailPassword.init(), // initializes signin / sign up features
        Session.init() // initializes session features
    ]
});
```
</TabItem>

<TabItem value="fastify">

```tsx
import supertokens from "supertokens-node";
import Session from "supertokens-node/recipe/session";
import EmailPassword from "supertokens-node/recipe/emailpassword";

supertokens.init({
    framework: "fastify",
    supertokens: {
        ^{coreInjector_connection_uri_comment}
        connectionURI: ^{coreInjector_uri}
        ^{coreInjector_api_key_commented}apiKey: ^{coreInjector_api_key},
    },
    appInfo: {
        // learn more about this on https://supertokens.com/docs/session/appinfo
        appName: "^{appInfo.appName}",
        apiDomain: "^{appInfo.apiDomain}",
        websiteDomain: "^{appInfo.websiteDomain}",
        apiBasePath: "^{appInfo.apiBasePath}",
        websiteBasePath: "^{appInfo.websiteBasePath}",
    },
    recipeList: [
        EmailPassword.init(), // initializes signin / sign up features
        Session.init() // initializes session features
    ]
});
```
</TabItem>

<TabItem value="koa">

```tsx
import supertokens from "supertokens-node";
import Session from "supertokens-node/recipe/session";
import EmailPassword from "supertokens-node/recipe/emailpassword";

supertokens.init({
    framework: "koa",
    supertokens: {
        ^{coreInjector_connection_uri_comment}
        connectionURI: ^{coreInjector_uri}
        ^{coreInjector_api_key_commented}apiKey: ^{coreInjector_api_key},
    },
    appInfo: {
        // learn more about this on https://supertokens.com/docs/session/appinfo
        appName: "^{appInfo.appName}",
        apiDomain: "^{appInfo.apiDomain}",
        websiteDomain: "^{appInfo.websiteDomain}",
        apiBasePath: "^{appInfo.apiBasePath}",
        websiteBasePath: "^{appInfo.websiteBasePath}",
    },
    recipeList: [
        EmailPassword.init(), // initializes signin / sign up features
        Session.init() // initializes session features
    ]
});
```
</TabItem>

<TabItem value="loopback">

```tsx
import supertokens from "supertokens-node";
import Session from "supertokens-node/recipe/session";
import EmailPassword from "supertokens-node/recipe/emailpassword";

supertokens.init({
    framework: "loopback",
    supertokens: {
        ^{coreInjector_connection_uri_comment}
        connectionURI: ^{coreInjector_uri}
        ^{coreInjector_api_key_commented}apiKey: ^{coreInjector_api_key},
    },
    appInfo: {
        // learn more about this on https://supertokens.com/docs/session/appinfo
        appName: "^{appInfo.appName}",
        apiDomain: "^{appInfo.apiDomain}",
        websiteDomain: "^{appInfo.websiteDomain}",
        apiBasePath: "^{appInfo.apiBasePath}",
        websiteBasePath: "^{appInfo.websiteBasePath}",
    },
    recipeList: [
        EmailPassword.init(), // initializes signin / sign up features
        Session.init() // initializes session features
    ]
});
```
</TabItem>
</NodeJSFrameworkSubTabsServerless>


</TabItem>
<TabItem value="go">

```go
import (
	"github.com/supertokens/supertokens-golang/recipe/emailpassword"
	"github.com/supertokens/supertokens-golang/recipe/session"
	"github.com/supertokens/supertokens-golang/supertokens"
)

func main() {
    apiBasePath := "^{appInfo.apiBasePath}"
    websiteBasePath := "^{appInfo.websiteBasePath}"
	err := supertokens.Init(supertokens.TypeInput{
		Supertokens: &supertokens.ConnectionInfo{
            ^{coreInjector_connection_uri_comment}
            ConnectionURI: ^{coreInjector_uri}
            ^{coreInjector_api_key_commented}APIKey: ^{coreInjector_api_key},
		},
		AppInfo: supertokens.AppInfo{
			AppName: "^{appInfo.appName}",
			APIDomain: "^{appInfo.apiDomain}",
			WebsiteDomain: "^{appInfo.websiteDomain}",
            APIBasePath: &apiBasePath,
            WebsiteBasePath: &websiteBasePath,
		},
		RecipeList: []supertokens.Recipe{
			emailpassword.Init(nil),
			session.Init(nil),
		},
	})

	if err != nil {
		panic(err.Error())
	}
}
```
</TabItem>
<TabItem value="python">
<PythonFrameworkSubTabs>
<TabItem value="fastapi">

```python
from supertokens_python import init, InputAppInfo, SupertokensConfig
from supertokens_python.recipe import emailpassword, session

init(
    app_info=InputAppInfo(
        app_name="^{appInfo.appName}",
        api_domain="^{appInfo.apiDomain}",
        website_domain="^{appInfo.websiteDomain}",
        api_base_path="^{appInfo.apiBasePath}",
        website_base_path="^{appInfo.websiteBasePath}"
    ),
    supertokens_config=SupertokensConfig(
        ^{coreInjector_connection_uri_comment_with_hash}
        connection_uri=^{coreInjector_uri}
        ^{coreInjector_api_key_commented_with_hash}api_key=^{coreInjector_api_key}
    ),
    framework='fastapi',
    recipe_list=[
	    session.init(), # initializes session features
        emailpassword.init()
    ],
    mode='asgi' # use wsgi if you are running using gunicorn
)
```

</TabItem>
<TabItem value="flask">

```python
from supertokens_python import init, InputAppInfo, SupertokensConfig
from supertokens_python.recipe import emailpassword, session

init(
    app_info=InputAppInfo(
        app_name="^{appInfo.appName}",
        api_domain="^{appInfo.apiDomain}",
        website_domain="^{appInfo.websiteDomain}",
        api_base_path="^{appInfo.apiBasePath}",
        website_base_path="^{appInfo.websiteBasePath}"
    ),
    supertokens_config=SupertokensConfig(
        ^{coreInjector_connection_uri_comment_with_hash}
        connection_uri=^{coreInjector_uri}
        ^{coreInjector_api_key_commented_with_hash}api_key=^{coreInjector_api_key}
    ),
    framework='flask',
    recipe_list=[
	    session.init(), # initializes session features
        emailpassword.init()
    ]
)
```

</TabItem>
<TabItem value="django">

```python
from supertokens_python import init, InputAppInfo, SupertokensConfig
from supertokens_python.recipe import emailpassword, session

init(
    app_info=InputAppInfo(
        app_name="^{appInfo.appName}",
        api_domain="^{appInfo.apiDomain}",
        website_domain="^{appInfo.websiteDomain}",
        api_base_path="^{appInfo.apiBasePath}",
        website_base_path="^{appInfo.websiteBasePath}"
    ),
    supertokens_config=SupertokensConfig(
        ^{coreInjector_connection_uri_comment_with_hash}
        connection_uri=^{coreInjector_uri}
        ^{coreInjector_api_key_commented_with_hash}api_key=^{coreInjector_api_key}
    ),
    framework='django',
    recipe_list=[
	    session.init(), # initializes session features
        emailpassword.init()
    ],
    mode='asgi' # use wsgi if you are running django server in sync mode
)
```

</TabItem>
</PythonFrameworkSubTabs>
</TabItem>
</BackendSDKTabs>


</CoreInjector>

</ContextValueReplacer>

## 3. Add the SuperTokens APIs & CORS setup


<BackendSDKTabs>
<TabItem value="nodejs">
<NodeJSFrameworkSubTabsServerless>
<TabItem value="express">

:::important
- Add the `middleware` BEFORE all your routes.
- Add the `cors` middleware BEFORE the SuperTokens middleware as shown below.
:::

```tsx
import express from "express";
import cors from "cors";
import supertokens from "supertokens-node";
import { middleware } from "supertokens-node/framework/express";

let app = express();

app.use(cors({
    // highlight-start
    origin: "^{appInfo.websiteDomain}",
    allowedHeaders: ["content-type", ...supertokens.getAllCORSHeaders()],
    credentials: true,
    // highlight-end
}));

// IMPORTANT: CORS should be before the below line.
// highlight-next-line
app.use(middleware());

// ...your API routes
```
This `middleware` adds a few APIs (see all the APIs [here](https://app.swaggerhub.com/apis/supertokens/FDI)):

- `POST ^{appInfo.apiBasePath}/signup`: For signing up a user with email & password
- `POST ^{appInfo.apiBasePath}/signin`: For signing in a user with email & password

</TabItem>
<TabItem value="hapi">

Register the `plugin`.

```tsx
import Hapi from "@hapi/hapi";
import supertokens from "supertokens-node";
import { plugin } from "supertokens-node/framework/hapi";

let server = Hapi.server({
    port: 8000,
    routes: {
        // highlight-start
        cors: {
            origin: ["^{appInfo.websiteDomain}"],
            additionalHeaders: [...supertokens.getAllCORSHeaders()],
            credentials: true,
        }
        // highlight-end
    }
});

(async () => {
    // highlight-next-line
    await server.register(plugin);

    await server.start();
})();

// ...your API routes
```
This `plugin` adds a few APIs (see all the APIs [here](https://app.swaggerhub.com/apis/supertokens/FDI)) as well take care of all the errors thrown by the Supertokens library:

- `POST ^{appInfo.apiBasePath}/signup`: For signing up a user with email & password
- `POST ^{appInfo.apiBasePath}/signin`: For signing in a user with email & password

</TabItem>
<TabItem value="fastify">

Register the `plugin`. Also register [`@fastify/formbody`](https://github.com/fastify/fastify-formbody) plugin.

```tsx
import cors from "@fastify/cors";
import supertokens from "supertokens-node";
import { plugin } from "supertokens-node/framework/fastify";
import formDataPlugin from "@fastify/formbody";

import fastifyImport from "fastify";

let fastify = fastifyImport();

// ...other middlewares
// highlight-start
fastify.register(cors, {
    origin: "^{appInfo.websiteDomain}",
    allowedHeaders: ['Content-Type', ...supertokens.getAllCORSHeaders()],
    credentials: true,
});
// highlight-end

(async () => {
    // highlight-next-line
    await fastify.register(formDataPlugin);
    // highlight-next-line
    await fastify.register(plugin);

    await fastify.listen(8000);
})();

// ...your API routes
```
This `plugin` adds a few APIs (see all the APIs [here](https://app.swaggerhub.com/apis/supertokens/FDI)):

- `POST ^{appInfo.apiBasePath}/signup`: For signing up a user with email & password
- `POST ^{appInfo.apiBasePath}/signin`: For signing in a user with email & password

</TabItem>
<TabItem value="koa">

:::important
Add the `middleware` BEFORE all your routes.
:::

```tsx
import Koa from "koa";
import cors from '@koa/cors';
import supertokens from "supertokens-node";
import { middleware } from "supertokens-node/framework/koa";

let app = new Koa();

app.use(cors({
	// highlight-start
    origin: "^{appInfo.websiteDomain}",
    allowHeaders: ["content-type", ...supertokens.getAllCORSHeaders()],
    credentials: true,
    // highlight-end
}));

// highlight-next-line
app.use(middleware());

// ...your API routes
```
This `middleware` adds a few APIs (see all the APIs [here](https://app.swaggerhub.com/apis/supertokens/FDI)):

- `POST ^{appInfo.apiBasePath}/signup`: For signing up a user with email & password
- `POST ^{appInfo.apiBasePath}/signin`: For signing in a user with email & password

</TabItem>
<TabItem value="loopback">

:::important
Add the `middleware` BEFORE all your routes.
:::

```tsx
import { RestApplication } from "@loopback/rest";
import supertokens from "supertokens-node";
import { middleware } from "supertokens-node/framework/loopback";

let app = new RestApplication({
    rest: {
        cors: {
            // highlight-start
            origin: "^{appInfo.websiteDomain}",
            allowedHeaders: ["content-type", ...supertokens.getAllCORSHeaders()],
            credentials: true
            // highlight-end
        }
    }
});

// highlight-next-line
app.middleware(middleware);

// ...your API routes
```
This `middleware` adds a few APIs (see all the APIs [here](https://app.swaggerhub.com/apis/supertokens/FDI)):

- `POST ^{appInfo.apiBasePath}/signup`: For signing up a user with email & password
- `POST ^{appInfo.apiBasePath}/signin`: For signing in a user with email & password

</TabItem>
</NodeJSFrameworkSubTabsServerless>
</TabItem>
<TabItem value="go">
<GoFrameworkSubTabs>
<TabItem value="http">

Use the `supertokens.Middleware` and the `supertokens.GetAllCORSHeaders()` functions as shown below.

```go
import (
	"net/http"
	"strings"

	"github.com/supertokens/supertokens-golang/supertokens"
)

func main() {
    // SuperTokens init...

    //highlight-start
	http.ListenAndServe("SERVER ADDRESS", corsMiddleware(
		supertokens.Middleware(http.HandlerFunc(func(rw http.ResponseWriter,
    //highlight-end
        r *http.Request) {
			// TODO: Handle your APIs..

		}))))
}

func corsMiddleware(next http.Handler) http.Handler {
	return http.HandlerFunc(func(response http.ResponseWriter, r *http.Request) {
		response.Header().Set("Access-Control-Allow-Origin", "^{appInfo.websiteDomain}")
		response.Header().Set("Access-Control-Allow-Credentials", "true")
		if r.Method == "OPTIONS" {
			// we add content-type + other headers used by SuperTokens
			response.Header().Set("Access-Control-Allow-Headers",
				strings.Join(append([]string{"Content-Type"},
                //highlight-start
					supertokens.GetAllCORSHeaders()...), ","))
                //highlight-end
			response.Header().Set("Access-Control-Allow-Methods", "*")
			response.Write([]byte(""))
		} else {
			next.ServeHTTP(response, r)
		}
	})
}
```

</TabItem>
<TabItem value="gin">

Use the `supertokens.Middleware` and the `supertokens.GetAllCORSHeaders()` functions as shown below.

```go
import (
	"net/http"

	"github.com/gin-contrib/cors"
	"github.com/gin-gonic/gin"
	"github.com/supertokens/supertokens-golang/supertokens"
)

func main() {
    // SuperTokens init...

	router := gin.New()

	// CORS
	router.Use(cors.New(cors.Config{
		AllowOrigins: []string{"^{appInfo.websiteDomain}"},
		AllowMethods: []string{"GET", "POST", "DELETE", "PUT", "OPTIONS"},
		AllowHeaders: append([]string{"content-type"},
        // highlight-next-line
			supertokens.GetAllCORSHeaders()...),
		AllowCredentials: true,
	}))

	// Adding the SuperTokens middleware
    // highlight-start
	router.Use(func(c *gin.Context) {
		supertokens.Middleware(http.HandlerFunc(
			func(rw http.ResponseWriter, r *http.Request) {
				c.Next()
			})).ServeHTTP(c.Writer, c.Request)
		// we call Abort so that the next handler in the chain is not called, unless we call Next explicitly
		c.Abort()
	})
    // highlight-end

	// Add APIs and start server
}
```

</TabItem>
<TabItem value="chi">

Use the `supertokens.Middleware` and the `supertokens.GetAllCORSHeaders()` functions as shown below.

```go
import (
	"github.com/go-chi/chi"
	"github.com/go-chi/cors"
	"github.com/supertokens/supertokens-golang/supertokens"
)

func main() {
    // SuperTokens init...

	r := chi.NewRouter()

	// CORS
	r.Use(cors.Handler(cors.Options{
		AllowedOrigins: []string{"^{appInfo.websiteDomain}"},
		AllowedMethods: []string{"GET", "POST", "PUT", "DELETE", "OPTIONS"},
		AllowedHeaders: append([]string{"Content-Type"},
			//highlight-next-line
			supertokens.GetAllCORSHeaders()...),
		AllowCredentials: true,
	}))

	// SuperTokens Middleware
	//highlight-next-line
	r.Use(supertokens.Middleware)

	// Add APIs and start server
}
```
</TabItem>
<TabItem value="mux">

Use the `supertokens.Middleware` and the `supertokens.GetAllCORSHeaders()` functions as shown below.

```go
import (
	"net/http"

	"github.com/gorilla/handlers"
	"github.com/gorilla/mux"
	"github.com/supertokens/supertokens-golang/supertokens"
)

func main() {
	// SuperTokens init...

	// TODO: Add APIs

	router := mux.NewRouter()

	// Adding handlers.CORS(options)(supertokens.Middleware(router)))
	//highlight-start
	http.ListenAndServe("SERVER ADDRESS", handlers.CORS(
		handlers.AllowedHeaders(append([]string{"Content-Type"},
			supertokens.GetAllCORSHeaders()...)),
		handlers.AllowedMethods([]string{"GET", "POST", "PUT", "HEAD", "OPTIONS"}),
		handlers.AllowedOrigins([]string{"^{appInfo.websiteDomain}"}),
		handlers.AllowCredentials(),
	)(supertokens.Middleware(router)))
	//highlight-end
}
```
</TabItem>
</GoFrameworkSubTabs>

This `Middleware` adds a few APIs (see all the APIs [here](https://app.swaggerhub.com/apis/supertokens/FDI)):

- `POST ^{appInfo.apiBasePath}/signup`: For signing up a user with email & password
- `POST ^{appInfo.apiBasePath}/signin`: For signing in a user with email & password

</TabItem>
<TabItem value="python">
<PythonFrameworkSubTabs>
<TabItem value="fastapi">

Use the `Middleware` (**BEFORE all your routes**) and the `get_all_cors_headers()` functions as shown below.

```python
from supertokens_python import get_all_cors_headers
from fastapi import FastAPI
from starlette.middleware.cors import CORSMiddleware
from supertokens_python.framework.fastapi import get_middleware

app = FastAPI()
# highlight-next-line
app.add_middleware(get_middleware())

# TODO: Add APIs

app.add_middleware(
    CORSMiddleware,
    allow_origins=[
        "^{appInfo.websiteDomain}"
    ],
    allow_credentials=True,
    allow_methods=["GET", "PUT", "POST", "DELETE", "OPTIONS", "PATCH"],
	# highlight-next-line
    allow_headers=["Content-Type"] + get_all_cors_headers(),
)

# TODO: start server
```

</TabItem>
<TabItem value="flask">

- Use the `Middleware` (**BEFORE all your routes and after calling init function**) and the `get_all_cors_headers()` functions as shown below.
- Add a route to catch all paths and return a 404. This is needed because if we don't add this, then OPTIONS request for the APIs exposed by the `Middleware` will return a `404`.

```python
from supertokens_python import get_all_cors_headers
from flask import Flask, abort
from flask_cors import CORS # type: ignore
from supertokens_python.framework.flask import Middleware

app = Flask(__name__)
# highlight-next-line
Middleware(app)

# TODO: Add APIs

CORS(
    app=app,
    origins=[
        "^{appInfo.websiteDomain}"
    ],
    supports_credentials=True,
	# highlight-next-line
    allow_headers=["Content-Type"] + get_all_cors_headers(),
)

# This is required since if this is not there, then OPTIONS requests for
# the APIs exposed by the supertokens' Middleware will return a 404
# highlight-start
@app.route('/', defaults={'u_path': ''})  # type: ignore
@app.route('/<path:u_path>')  # type: ignore
def catch_all(u_path: str):
    abort(404)
# highlight-end

# TODO: start server
```

</TabItem>
<TabItem value="django">

Use the `Middleware` and the `get_all_cors_headers()` functions as shown below in your `settings.py`.

```python
from supertokens_python import get_all_cors_headers
from typing import List
from corsheaders.defaults import default_headers

CORS_ORIGIN_WHITELIST = [
    "^{appInfo.websiteDomain}"
]

CORS_ALLOW_CREDENTIALS = True

CORS_ALLOWED_ORIGINS = [
    "^{appInfo.websiteDomain}"
]

CORS_ALLOW_HEADERS: List[str] = list(default_headers) + [
    "Content-Type"
    # highlight-next-line
] + get_all_cors_headers()

INSTALLED_APPS = [
    'corsheaders',
    'supertokens_python'
]

MIDDLEWARE = [
    'corsheaders.middleware.CorsMiddleware',
    ...,
    # highlight-next-line
    'supertokens_python.framework.django.django_middleware.middleware',
]
# TODO: start server
```

</TabItem>
</PythonFrameworkSubTabs>

This `Middleware` adds a few APIs (see all the APIs [here](https://app.swaggerhub.com/apis/supertokens/FDI)):

- `POST ^{appInfo.apiBasePath}/signup`: For signing up a user with email & password
- `POST ^{appInfo.apiBasePath}/signin`: For signing in a user with email & password

</TabItem>
</BackendSDKTabs>



## 4. Add the SuperTokens error handler

<BackendSDKTabs>
<TabItem value="nodejs">
<NodeJSFrameworkSubTabsServerless>
<TabItem value="express">

```tsx
import express, { Request, Response, NextFunction } from 'express';
import { errorHandler } from "supertokens-node/framework/express";

let app = express();

// ...your API routes

// highlight-start
// Add this AFTER all your routes
app.use(errorHandler())
// highlight-end

// your own error handler
app.use((err: unknown, req: Request, res: Response, next: NextFunction) => { /* ... */ });
```
</TabItem>
<TabItem value="hapi">

No additional `errorHandler` is required.

</TabItem>
<TabItem value="fastify">

Add the `errorHandler` **Before all your routes and plugin registration**

```tsx
import Fastify from "fastify";
import { errorHandler } from "supertokens-node/framework/fastify";

let fastify = Fastify();

// highlight-next-line
fastify.setErrorHandler(errorHandler());

// ...your API routes
```
</TabItem>
<TabItem value="koa">

No additional `errorHandler` is required.

</TabItem>
<TabItem value="loopback">

No additional `errorHandler` is required.

</TabItem>
</NodeJSFrameworkSubTabsServerless>
</TabItem>
<TabItem value="go">

:::info
You can skip this step
:::

</TabItem>
<TabItem value="python">

:::info
You can skip this step
:::

</TabItem>
</BackendSDKTabs>

## 5. Test the Login Flow 

Now that you have configured both the frontend and the backend, you can return to the frontend login page.
From here follow these steps to confirm that your setup is working properly.
- Click on the **Sign up** button to create a new account.
- After you have created the account go to **Login** page and fill in your credentials.
- If you are greeted with the login screen you have completed the quickstart setup.

:::success  ðŸŽ‰ Congratulations ðŸŽ‰

You've successfully integrated **SuperTokens** with your existing application!

Of course, there are additional things that we should add in order to provide a complete authentication experience.
But, we'll talk about those things in the next section.

For now, let's take a moment and and celebrate our success!  

:::

## 6. Complete the Authentication Flow

In order for your application to expose a full authentication experience there are a couple more things that we should take into consideration.

Here is a list of quick guides that that will help you complete the setup:

<Card.List>


<Card path="/docs/new-docs/quickstart/next-steps/handling-session-tokens">
    <Card.Title>Work with Session Tokens</Card.Title>
</Card>

<Card path="/docs/new-docs/quickstart/next-steps/protecting-routes">
    <Card.Title>Protect Your Application Routes</Card.Title>
</Card>

<Card path="/docs/new-docs/quickstart/next-steps/sign-out">
    <Card.Title>Implement a Sign Out Action</Card.Title>
</Card>

<Card path="/docs/new-docs/quickstart/next-steps/auth-redirection">
    <Card.Title>Change the Redirect Action after Login</Card.Title>
</Card>

<Card path="/docs/new-docs/quickstart/next-steps/customize-ui">
    <Card.Title>Customize the UI</Card.Title>
</Card>

</Card.List>



